### 创建库
+ bash shell允许创建函数库文件，然后在多个脚本中引用该库文件；以下为实现创建库的步骤：
#### 第一步：创建一个包含脚本中所需函数的公共库文件，这里叫做myfuncs的库文件
```
function addem{
       echo $[ $1 + $2 ]
}
function multem{
       echo $[ $1 * $2 ]
}
function divem{
       if [ $2 -ne 0 ]
       then
              echo $[ $1 / $2 ]
       else
              echo -1
       fi
}
```
#### 第二步
+ 在用这些函数的脚本文件中包含myfuncs库文件，shell函数仅在定义它的shell会话内有效，如果你在shell命令行界面的提示符下运行myfuncs脚本，shell会创建一个新的shell并在其中运行该脚本，它会为那个新的shell定义这三个函数，但当你运行另外一个要用到这些函数的脚本时，他们是无法使用的；使用函数库的关键在于`source`命令，source命令会在当前shell上下文中执行命令，而不是创建一个新shell，可以用source命令来在shell脚本中运行库文件脚本，这样脚本就可以使用库中的函数了；source命令有个快捷键别名，称作点操作符，要在shell脚本中运行myfuncs库文件，只需要在使用库脚本文件的文件中添加：`. ./myfuncs`；这个例子嘉定myfuncs库文件是和shell脚本位于同一个目录，如果不是，你需要使用相应路径访问该文件；使用myfuncs库文件的脚本例子如下：该脚本成功的使用myfuncs库文件中定义的函数；
```
../myfuncs
value=10
value1=4
result=$(addem $value $value1)
```

### 在命令行上使用函数
+ 在shell脚本中将脚本函数当命令使用一样，在命令行界面也可以这样做，一旦在shell中定义了函数，你就可以在整个系统中使用它了，无需担心脚本是不是在PATH环境变量里，重点在于让shell能识别这些函数；
#### 在命令行上创建函数
+ 因为shell会解释用户输入的命令，所有可以在命令行上直接定义一个函数，有两种方法：第一种方法 ：采用单行方式定义函数：`function divem { echo $[ $1 / $2 ]；}`；就可以使用了：`divem 100 4`；当在命令行上定义函数时，必须在每个命令后面加上分号，这样shell才会知道在哪里是命令的起止；第二种方法：采用多行方式来定义函数：在定义时，bash shell会使用次提示符来提示输入更多的命令，用这种方法，不用再每条命令的末尾放一个分号，只要按下回车键就行；
```
function multem{
       echo $[ $1 * $2 ]
}
```
+ 这样就可以使用了：`multem 10 20`；在函数的末尾部分花括号，shell会知道你已经完成了函数的定义；命令行上创建函数时要特别小心，如果你给函数起了个跟内建命令或者另一个命令相同的名字，函数将覆盖原来的命令；
#### 在`.bashrc`文件中定义函数
+ 一个简单的方法时将函数定义在一个特定的位置，这个位置在每次启动一个新shell的时候，都会由shell重新载入，最佳的地点就是.bashrc文件，bash shell在每次启动时都会在主目录下查找这个文件，不管是交互式shell还是从现在shell中启动新的shell；
#### 直接定义函数
+ 可以直接在主目录下的.bashrc文件中定义函数，那你写的函数放在该文件的末尾就行了，这样该函数会在下次启动新bash shell时生效，随后你就能在系统的任意地方使用该函数了；
#### 读取函数文件
+ 只要是在shell脚本中，都可以使用source命令（或者他的别名点操作符）将库文件中的函数添加在你的.bashrc脚本中;在.bashrc脚本中添加：`. /home/ningbaoqi/mylib`；要保证库文件的路径名正确，以便bash shell能够找到该文件，下次启动shell时，库中的所有函数都能在命令行界面下使用； shell还会将定义好的函数传给子shell进程，这样一来这些函数就自动能够用于该shell会话中的任何脚本；

